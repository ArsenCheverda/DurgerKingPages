Telegram Web App Shop

Это полноценный пример интернет-магазина, разработанного как Telegram Web App, с фронтендом и бэкендом.



Структура проекта

/frontend: Содержит index.html, который является одностраничным приложением (SPA) для всего пользовательского интерфейса.



/backend: Содержит простой сервер на Node.js/Express для обработки заказов.



Как запустить

1\. Бэкенд

Для запуска бэкенда вам понадобится Node.js и npm.



\# Перейдите в папку бэкенда

cd backend



\# Установите зависимости

npm install



\# Запустите сервер

npm start



Сервер будет запущен на http://localhost:3000.



2\. Фронтенд

Фронтенд (index.html) — это статический файл. Его нужно разместить на хостинге с поддержкой HTTPS, так как Telegram Web Apps требуют безопасного соединения.



Вы можете использовать сервисы, такие как:



Netlify



Vercel



GitHub Pages



Firebase Hosting



Или запустить локальный HTTPS-сервер для тестирования.



3\. Настройка Telegram Бота

Создайте бота: Поговорите с @BotFather в Telegram, чтобы создать нового бота. Вы получите токен API.



Настройте Web App:



Отправьте команду /mybots в @BotFather.



Выберите своего бота -> Bot Settings -> Menu Button.



Настройте кнопку меню, указав URL вашего размещенного index.html.



Тестирование: Откройте чат с вашим ботом в Telegram и нажмите кнопку меню. Ваше веб-приложение должно открыться.



Ключевые особенности

Оплата Telegram Stars: Продукт "Cake" настроен на использование currency: 'XTR', что позволяет проводить оплату с помощью Telegram Stars.



Динамический интерфейс: Приложение построено как SPA, где разные "страницы" и модальные окна показываются и скрываются с помощью JavaScript.



Реалистичный процесс оформления заказа: Реализована многошаговая форма для сбора платежной и доставочной информации.



Адаптивный дизайн: Используется Tailwind CSS для обеспечения хорошего отображения на разных устройствах.



Важные замечания

Безопасность: Данный пример не реализует безопасную обработку платежных данных. Никогда не отправляйте данные банковских карт напрямую с клиента на ваш сервер. Используйте SDK от платежных провайдеров (например, Stripe.js) для токенизации данных.



Проверка initData: В реальном приложении на бэкенде необходимо проверять initData, передаваемые от Telegram, чтобы убедиться, что запросы действительно приходят от вашего веб-приложения, запущенного легитимным пользователем.



База данных: Бэкенд не использует базу данных. В реальном проекте необходимо подключить базу данных (например, PostgreSQL, MongoDB) для сохранения заказов и информации о пользователях.

